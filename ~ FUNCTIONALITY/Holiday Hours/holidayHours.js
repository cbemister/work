

var holidayHours = {
	'Courtesy Chrysler Dodge Jeep Ram': {
	'date': {
		'23': {
			'sales': '8:30am-5:00pm',
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': 'closed',
			'parts': 'closed',
			'service': 'closed'
		},
		'26': {
			'sales': 'closed',
			'parts': 'closed',
			'service': 'closed'
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': 'closed',
			'parts': 'closed',
			'service': 'closed'
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Dartmouth Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Tower Chrysler': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Toronto Chrysler': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Wellington Motors': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Moncton Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Ponoka Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Okanagan Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Capital Chrysler Jeep Dodge Ram Fiat': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Eastern Chrysler Dodge Jeepg': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Grande Prairie Chrysler Dodge Jeep Ram Fiat': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Maple Ridge Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Northland Chrysler Jeep Dodge': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Crosstown Auto Centre': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}},
	'Airdrie Chrysler Dodge Jeep': {
	'date': {
		'23': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'24': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'25': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'26': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'27': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'30': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'31': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'1': {
			'sales': null,
			'parts': null,
			'service': null
		},
		'2': {
			'sales': null,
			'parts': null,
			'service': null
		}
	}}
};


//var d = new Date();

var dayOfMonth = 25;
//var dayOfMonth = d.getDate();

var dealershipName = DDC.dataLayer.dealership.dealershipName; 
var daysOfMonth = [23, 24, 25, 26, 27, 30, 31, 1, 2];
var dayOfWeekInt = [6, 7, 1, 2, 3];
var holidayLabels = {
	'24': 'Christmas Eve',
	'25': 'Christmas Day',
	'26': 'Boxing Day',
	'31': 'New Year\'s Eve',
	'1': 'New Year\'s Day'
};

var navClick = false;

//Change Hours In One Week Interval
//1st Week
if (dayOfMonth >= 21  && dayOfMonth <= 27) {
	for (var i = 0; i < 5; i++) {
		changeLabelAndHours();
		NavClick();
	}
	
//2nd Week
} else if ((dayOfMonth > 27  && dayOfMonth <= 31) || dayOfMonth <= 2 ) {
	for (var i = 5; i <= 8; i++) {
		changeLabelAndHours();
		NavClick();
	}
}

//Change Daily Hours on Mobile
if ((DDC.dataLayer.page.attributes.layoutType === 'mobile') && ((dayOfMonth >= 21 && dayOfMonth <= 31) || dayOfMonth <= 2)) {

	$(window).bind('load', function () {
		var salesHours = holidayHours[dealershipName].date[dayOfMonth].sales;
		var serviceHours = holidayHours[dealershipName].date[dayOfMonth].service;
		if (salesHours) {
			$('span.header-hours-sales-time').text(salesHours);
		}
		if (serviceHours) {
			$('span.header-hours-service-time').text(serviceHours);
		}
	});
}

//Update Label & Holiday Hourse
//Loop through the hours and labels
//Check if the label and hours are not null
//Run updateLabel and updateHours functions
function changeLabelAndHours() {
	var holidayLabel = holidayLabels[daysOfMonth[i]];
	var specialHours = holidayHours[dealershipName].date[daysOfMonth[i]].sales;
		if (holidayLabel) {
			updateLabel(dayOfWeekInt[i], holidayLabel);
		}
		if (specialHours) {
			updateHours(dayOfWeekInt[i], daysOfMonth[i]);
		}
		if (holidayLabel && navClick) {
			updateLabel(dayOfWeekInt[i], holidayLabel);
		}
		if (specialHours && navClick) {
			updateHours(dayOfWeekInt[i], daysOfMonth[i]);
		}
	
}
//Change Label If Holiday
function updateLabel(dayInt, holidayLabel) {
		jQuery("ul.ddc-list-columns.ddc-hours > li:nth-of-type(" + dayInt +") span.key").text(holidayLabel);
}
//Change Hours If Different
function updateHours(dayInt, dateInt) {
		jQuery("ul.ddc-list-columns.ddc-hours > li:nth-of-type(" + dayInt + ") span.value").text(holidayHours[dealershipName].date[dateInt].sales);
}

var updateNavMenu = function(dayInt, holidayLabel, dateInt) {
	
	//MEGAMENU AJAX HOURS HANDLER
	jQuery( document ).ajaxComplete(function() {
	jQuery("ul.ddc-list-columns.ddc-hours > li:nth-of-type(" + dayInt + ") span.key").text(holidayLabel);

	//SERVICE
		jQuery("div.ajax-navigation-element[data-fragment-url*='service'] ul.ddc-list-columns.ddc-hours > li:nth-of-type(" + dayInt + ") span.value").text(holidayHours[dealershipName].date[dateInt].service);


	});
	
}


//within time frame
//click on parts & service nav
//ajax complete
//loop through labels & time

var NavClick = function () {


	jQuery('ul.navbar-nav a:contains("Parts & Service")').on('click', function () {

		console.log('parts & service nav click');
		
		navClick = true;
		
	});

}
	

